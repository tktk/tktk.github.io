<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>tekuto.net</title>
        <link rel="stylesheet" href="style.css" />
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-23511137-1']);
            _gaq.push(['_setDomainName', '.tekuto.net']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </head>
    <body>
<!--過去ログ用
        <div>
            <p><a href="/">戻る</a></p>
        </div>
-->
        <h1>tekuto.net</h1>
        <div>
            <p>メール:g.tekuto@gmail.com</p>
            <p><a href="http://twitter.com/tekuto" target="_blank">twitter</a></p>
        </div>
<!--テンプレート
        <hr />
        <div>
            <h2>YYYY/MM/DD hh:mm</h2>
            内容
        </div>
-->
        <hr />
        <div>
            <h2>2013/08/18 22:00</h2>
            <p>色々忙しかったでした。</p>
            <p>＊</p>
            <p>関数やらファンクタやらの名前を修正している。</p>
            <p>今まで、キーデータの比較にdp::なんたらLessというファンクタを用意しておいて、それを使うことでstd::unique_ptrやらstd::shared_ptrやらでラップしたキーデータをstd::setにつっこんだりできるようにしてたんだけど、改めて見てみたら処理自体はどれも同じなわけで、dp::Lessという1つのファンクタにまとめることにした。</p>
            <p>テンプレートと関数のオーバーロードとうまく利用して、コードを簡略化できたので気分がいい。</p>
            <p>＊</p>
            <p>というのを16日辺りにやったと思うんだけど、それから今日まで色々忙しかったり疲れちゃったりしてて日記書くのおっくうになってたり、作業もできてなかったり。</p>
            <p>今日作業するのもなかなかつらい。明日から本気出すべきか。</p>
            <p>疲れすぎたらしく、食べ物の味もよく分からん。何食っても飲んでも味がしない。</p>
            <p>＊</p>
            <p>別のマシンにGUI環境入れて、uimを使った日本語入力とかもできるようにした。</p>
            <p>chromiumのビルドが失敗する。エラーメッセージを見る限り、コンパイルエラーとかではないようなのだが。ぐぬぬ</p>
        </div>
        <hr />
        <div>
            <h2>2013/08/15 00:05</h2>
            <p>linux側のディスプレイ管理できた。</p>
            <p>＊</p>
            <p>この次はウィンドウ生成に進む予定だけど、昨日書いた通り、関数名変更を先にやってしまおう。</p>
            <p>＊</p>
            <p>1日に1回は日記を増やそうということで、最近は続けている。今日で途切れると3日坊主ってやつだ。</p>
            <p>って、ああ、日付変わっちゃってる。</p>
            <p>＊</p>
            <p>別のマシンには大体必要なものを入れた。GUI環境以外については、あとはvalgrindくらいか。今glibcをsplitdebugにして再ビルドしている。</p>
            <p>そういえば音関係入れてないな。pulseaudioを入れておくべきか。</p>
        </div>
        <hr />
        <div>
            <h2>2013/08/13 18:50</h2>
            <p>別のマシンにgentooをインストールしながら作業。</p>
            <p>＊</p>
            <p>ちょっと外出する時とかでも、外で作業できたらいいなぁとか考えて小さいマシンを使えるようにしているんだけど、バッテリーどのくらいもつかなぁ。</p>
            <p>CPUのクロック周波数を落として省電力化、とか多分できると思うんだけどどうやるんだろう。やったことがないから調べてみないと。</p>
            <p>指紋認証機能が付いてるので、それも使えるようにしたいところではあるが、vaioだしなぁ。モジュールあるかしら。</p>
            <p>今はgcc4.8.1をemergeしている。どのくらいかかるかなぁ。10時間はかかる気がする。</p>
            <p>＊</p>
            <p>関数名、もっと単純にしてもいいかもしれないなぁ。</p>
            <p>例えばゲームパッド関係だと、dp::gamePadGetButtons()という関数を使うとゲームパッドのボタン数を取得できるが、dp::getButtons()でいいかなぁとか。</p>
            <p>別の機能で関数名が被ることがあるだろうけど、大体のものは第1引数に処理対象の構造体の参照を渡すわけで、それにより呼び出すべき関数が確定するはずだ。オーバーロードを活用する感じ。</p>
            <p>関数と構造体から成り、例外を投げない、Cっぽいライブラリにするといっても、Cに対応する気は全くないわけだし。万が一Cに対応する場合でも、ラッピングした関数を作ればいいだけだし。</p>
            <p>ディスプレイ関係の実装が済んだら変えてみようかな。</p>
        </div>
        <hr />
        <div>
            <h2>2013/08/12 16:50</h2>
            <p>ディスプレイ管理を進めている。</p>
            <p>＊</p>
            <p>前のプロジェクトから構成を少し変更している。dp::DisplayManagerに依存させなくてもいい機能を取り外して独立させたりなど。</p>
            <p>ディスプレイの接続・切断検出機能については完了している。</p>
            <p>現在はディスプレイの解像度や配置などの情報取得処理を進めている。</p>
            <p>それが終わったら、ディスプレイの解像度や配置などの情報変更処理。</p>
            <p>＊</p>
            <p>順調だと思うのだが、やはり進みが遅い気がする。前の日記から6日も経っているではないか。</p>
            <p>モチベーションを上げるためにも、この次は音声出力ではなく、ウィンドウ生成とOpenGLを進めるべきか。</p>
        </div>
        <hr />
        <div>
            <h2>2013/08/06 21:50</h2>
            <p>ようやくlinuxのゲームパッドのボタンやら軸やらのイベントとか対応して、linux側のゲームパッド対応は完了した。</p>
            <p>＊</p>
            <p>windows側は後回しにして、次はディスプレイ管理か音声出力か、かなぁ。前のプロジェクトで、前者は既に作ってあるし、後者は中途半端なところまで進めている。ディスプレイ管理が先かなぁ。</p>
            <p>ちなみにライブラリのサイズは以前より小さくなった。74KBくらいのが55KBくらいになった。例外クラスが無くなったからなのか、エクスポートするのがクラスではなく関数になったからなのかは分からんが。</p>
        </div>
        <hr />
        <div>
            <h2>2013/08/03 22:35</h2>
            <p>今日は、地元のお祭りに行きました。最後の花火を見て、きれいだなぁと思いました。おわり</p>
            <p>＊</p>
            <p>作り直しは着々と進行中。ペースがとろい気もするけど。</p>
            <p>文字コード変換とか、linuxのゲームパッド接続・切断検知処理とかは完了している。</p>
            <p>前よりいい構成になった気がする。#define DPIMPLEMENTとかいう、マクロ名をミスるだけでバグになるような記述も使わないようにしたし、ファイルの構成も、インターフェースと実装を完全に別にした。前は混ざっちゃってたからなぁ。</p>
            <p>オブジェクト生成時に例外投げてたのもなくした。構造体を生成し、そのアドレスを返すだけの関数にしたので、失敗時にはnullを返すだけ。その代わり、対応する破棄関数を忘れずに呼び出して破棄する必要があるが、std::unique_ptr、std::shared_ptr、std::weak_ptrのエイリアスを定義しておき、それらを使えば自動的に破棄関数が呼ばれるようにしてあるので問題はない。</p>
            <p>私としては、deleterをコンストラクタで設定するstd::shared_ptrとかあんま使う気しないんだけども。std::unique_ptrだけで十分なんじゃないかなと思っている。</p>
            <p>でもまぁ、せっかくあるのだし、定義しておいて損はないだろうとか、そんな感じ。</p>
            <p>今はまだbitbucketにpushしてないどころか、プロジェクトを作ってすらいないけど、まぁそのうち。</p>
        </div>
<!--過去ログ用
        <hr />
        <div>
            <p><a href="/">戻る</a></p>
        </div>
-->
        <hr />
        <div>
            <h2>過去ログ</h2>
            <p><a href="201307.html">201307</a></p>
            <p><a href="201306.html">201306</a></p>
        </div>
        <div id="for-nostylesheet">
            <hr />
            <img src="images/uni.png" />
        </div>
    </body>
</html>
