<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>tekuto.net</title>
        <link rel="stylesheet" href="style.css" />
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-23511137-1']);
            _gaq.push(['_setDomainName', '.tekuto.net']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </head>
    <body>
<!--過去ログ用
        <div>
            <p><a href="/">戻る</a></p>
        </div>
-->
<!-- ここから過去ログ時に削除 -->
        <h1>tekuto.net</h1>
        <div>
            <p>メール:g.tekuto@gmail.com</p>
            <p><a href="http://twitter.com/tekuto" target="_blank">twitter</a></p>
        </div>
<!--テンプレート
        <hr />
        <div>
            <h2>YYYY/MM/DD hh:mm</h2>
            内容
        </div>
-->
<!-- ここまで -->
        <hr />
        <div>
            <h2>2014/09/10 22:10</h2>
            <p>パスの扱いについてまだ考え中。</p>
            <p>＊</p>
            <p>今日はバグの修正やら細かい変更などをしていた。</p>
            <p>パスについては後回しにして、先にコマンドライン引数で起動するプログラムの指定をできるようにしてしまった方がいいかもしれない。</p>
            <p>実際に必要になる場面を先に作ってしまえばイメージしやすそうな気がする。</p>
        </div>
        <hr />
        <div>
            <h2>2014/09/09 19:40</h2>
            <p>静的リンクしていたライブラリを、モジュールとして動的リンクして扱うように修正した。</p>
            <p>＊</p>
            <p>当初の予定では、静的リンクしているライブラリ5つを全て動的リンクさせたかったのだが、よく考えたらそのうち4つはモジュール管理処理から使っているので分離できず、結局1つのライブラリしか取り外すことができなかった。</p>
            <p>しかしながら、そのおかげで奇妙な処理の仕方をしていた箇所を削除することができたし、成果は悪くない。イメージのサイズも小さくなったようだし。</p>
            <p>複数のライブラリを修正する予定だったのでマクロとかも作って修正しやすくしたのだが、結局1つのライブラリしか修正できなかったので、ちょっと大げさになってしまった感はある。</p>
            <p>とはいえ、今後別のライブラリをリンクさせる予定があるので、その時には役立つかも。</p>
        </div>
        <hr />
        <div>
            <h2>2014/09/08 19:26</h2>
            <p>プログラム起動前のモジュール読み込みについても、依存関係を解決した上で読み込むようにした。</p>
            <p>＊</p>
            <p>これにより、プログラム起動前に読み込むモジュールについても、別のモジュールに依存させることが可能になった。</p>
            <p>今までは対象のモジュールのみ読み込む形だったので、他のモジュールに依存させていると正しく動作しなかったが、それが解決された。</p>
            <p>現状では、プログラム起動前に読み込むモジュールは他のモジュールに依存できないのを前提とした書き方をしていたはずなので、その辺は修正していくべきだろうな。</p>
            <p>＊</p>
            <p>次はコマンドライン引数で起動するプログラムの指定をできるようにしたいところだが、これをするとなるとパスの扱いをきちんと考えんと。</p>
        </div>
        <hr />
        <div>
            <h2>2014/09/06 13:18</h2>
            <p>おとといバージョン上げて、昨日プログラム起動前に読み込むモジュールのどうのこうのの前準備をした。</p>
            <p>＊</p>
            <p>というのを昨日書けばよかったのに忘れていた。</p>
            <p>今日明日はあまり作業しないようにする。</p>
            <p>のんべんだらりとなってくると、余計にやる気が減退してしまってよくない。</p>
            <p>そんな感じで、土日やら祝日やら、あとは平日の夜とかも、意図的に作業しないようにしている。</p>
            <p>せいぜい、なんか思い付いたらメモしておく程度。</p>
            <p>その方が、作業中集中できるし気分的にもいい気がするのだ。</p>
        </div>
        <hr />
        <div>
            <h2>2014/09/04 17:16</h2>
            <p>やることは色々思い付くが、ここらでバージョンを上げて区切っておくべきだろうか。</p>
            <p>＊</p>
            <p>依存解決ありのモジュールロード処理のプロトタイプは出来上がっているわけだし。</p>
            <p>今後、コマンドライン引数で起動するプログラムを指定したりとか、プログラム起動前に読み込むモジュールも依存解決ありの形にしたりだとか、その他諸々を予定している。</p>
            <p>後者の機能を実装するために、ファイルの配置を変えたりしていたが、そろそろバージョンを上げてネット上のリポジトリにpushしておくべきだろうな。</p>
            <p>調子が良さそうに思える時ほど、冷静にならねば無意識のうちに暴走、迷走して失敗するのだ。</p>
        </div>
        <hr />
        <div>
            <h2>2014/09/03 19:59</h2>
            <p>あるモジュールが複数モジュールから依存されている場合に、無駄にメモリ食ったり無駄な処理したりしないように修正した。</p>
            <p>＊</p>
            <p>簡単なデモプログラムを作ってみて、問題なく動作するのを確認した。</p>
            <p>しかし、必要なモジュールを依存モジュールリストから外しておいて、動作に失敗するはずのプログラムが普通に動いた、というのが起きた時はびびった。</p>
            <p>原因を調べたら、プログラムを実行するコアプログラム側に、必要なモジュールの処理が含まれており、プログラムがコアプログラム側の処理を呼び出しているために、普通に動いているように見える、ということだった。</p>
            <p>しかしコアプログラムはシンボルを全くエクスポートしていないはずなのに、なぜプログラム側から呼び出せているのか謎だったが、コアプログラムのリンク時に-rdynamicオプションを指定しているのがまずかったらしい。</p>
            <p>このオプションを付けているとバックトレースの表示を詳しくできるため、デバックビルドのリンク時には付けていた。</p>
            <p>しかしこのオプションの機能は「生成したファイル内に動的リンク用のシンボルを残す」というものであるため、今回のような問題が発生してしまったようだ。</p>
            <p>で、バックトレースを見る機会とか今のところほぼないし、別にいいかということで問題のオプションを使わないことで対応した。</p>
            <p>そもそもgrep backtraceとかやっても1件もヒットしなかったし、この記述自体が以前に作っていたプログラムの名残だったと思われる。</p>
        </div>
        <hr />
        <div>
            <h2>2014/09/02 18:44</h2>
            <p>やたー動いたー。</p>
            <p>＊</p>
            <p>もうちょい処理を追加する必要があるが、とりあえず動作するのを確認できた。</p>
            <p>依存モジュールのロードを行ない、プログラムを起動させることに成功。</p>
            <p>依存モジュールの指定方法をもうちょい種類増やしたりだとか、そもそも今のインターフェースで他の言語のプログラムを扱えるのかなど問題は色々あるものの、とりあえず一段落した気がする。</p>
            <p>あるモジュールが複数のモジュールから依存されている場合の処理をまだ書いてないので、それは追加する必要がある。</p>
            <p>それにしたって、効率的な処理にならない、というだけであり、想定では問題なく動作するはずだが。</p>
            <p>その辺確認するためにも、デモプログラムをいくつか作ってみる必要がありそう。</p>
            <p>モジュールの依存関係が循環してしまっている場合、現時点では正しく動作しない。多分無限ループみたくなって、そのうちスタック食い潰して落ちる。</p>
            <p>そもそも循環した依存関係というのが、他の言語とかでも常に許容されるのか分からんし、動作するように対応するかどうかはびみょう。循環を検出して、起動失敗にしたりなど、なんらかの対策は必要だろうけど。</p>
        </div>
        <hr />
        <div>
            <h2>2014/09/01 15:36</h2>
            <p>もうめんどいから過去ログに分割しなくてもいいんじゃないかな。</p>
            <p>＊</p>
            <p>パッケージシステムの暫定的な根幹ができあがりそうな感じ。</p>
            <p>＊</p>
            <p>また今日も、私の頭の中から湧き出た何かを形にするべく、その正体不明の何かを解析する作業。</p>
            <p>妄想なんだろうけど、見てはいけない何かを見つめ続けてしまっている気がする。</p>
            <p>そのうちもっと頭おかしくなるのではないだろうか。</p>
            <p>＊</p>
            <p>ポケモンエメラルドで捕まえられるポケモン全部捕まえた。</p>
            <p>あとはルビーやらサファイアやらでしか出現しないポケモンを捕まえて送り込まねば、ホウエン図鑑を埋めることはできない。</p>
            <p>送り込むだけならそれぞれのカートリッジと、安価で購入したゲームキューブとポケモンボックスを持っているのでできるのだが、通信ケーブルがないため通信進化ができない。</p>
            <p>アドバンスのケーブル、通販だと中古でも新品並みの値段になってたりするから困る。新品が定価の2、3倍とか頭おかしいと思う。手を出しがたい。</p>
            <p>＊</p>
            <p>さて、こわいこわい言ってないで作業せんと。クトゥルフ神話じゃないんだから未知に対する恐怖なんてあるものか。</p>
        </div>
<!--過去ログ用
        <hr />
        <div>
            <p><a href="/">戻る</a></p>
        </div>
-->
<!-- ここから過去ログ時に削除 -->
        <hr />
        <div>
            <h2>過去ログ</h2>
            <p><a href="201405.html">201405</a></p>
            <p><a href="201404.html">201404</a></p>
            <p><a href="201402.html">201402</a></p>
            <p><a href="201401.html">201401</a></p>
            <p><a href="201312.html">201312</a></p>
            <p><a href="201311.html">201311</a></p>
            <p><a href="201310.html">201310</a></p>
            <p><a href="201309.html">201309</a></p>
            <p><a href="201308.html">201308</a></p>
            <p><a href="201307.html">201307</a></p>
            <p><a href="201306.html">201306</a></p>
        </div>
<!-- ここまで -->
        <div id="for-nostylesheet">
            <hr />
            <img src="images/uni.png" />
        </div>
    </body>
</html>
